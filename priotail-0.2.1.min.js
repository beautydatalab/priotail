function getQueryString(){var t=window.location.search.substr(1).split("&");if(""==t)return{};for(var e={},i=0;i<t.length;++i){var o=t[i].split("=",2);1==o.length?e[o[0]]="":e[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return e}function sleep(t){return new Promise(e=>setTimeout(e,t))}var priotailHttpRequest=new XMLHttpRequest;async function priotailArrange(){if(priotailHttpRequest.readyState===XMLHttpRequest.DONE)if(200===priotailHttpRequest.status){console.log(priotailHttpRequest.responseText);const t=JSON.parse(priotailHttpRequest.responseText),e=t.priority_detail[0].type,i=t.priority_detail[0].data,o=t.priority_detail[0].hide_origin;let r=document.getElementById("priotail_section"),p=1;for(;!r&&p<12;)console.log(p++),await sleep(1e3),r=document.getElementById("priotail_section");switch(e){case"IMAGE":i.map((t,e)=>{const i=document.createElement("img");i.id="priotail_image_"+e,i.src=t,i.style="position: relative; height: 100%; box-sizing: border-box; border-radius: 0px;",r.appendChild(i)});break;case"HTML_TAG":r.innerHTML=i}if(o){document.getElementById("priotail_original_detail_section").style="display: none;"}}else console.log("something wrong by priotail")}async function priogoryArrange(){if(priotailHttpRequest.readyState===XMLHttpRequest.DONE)if(200===priotailHttpRequest.status){console.log(priotailHttpRequest.responseText);JSON.parse(priotailHttpRequest.responseText);const t=[129,99,82];for(let e in t){let t=document.getElementsByName("anchorBoxName_"+e),i=1;for(;!t&&i<12;)console.log(i++),await sleep(1e3),t=document.getElementsByName("anchorBoxName_"+e);t.href=t.href+"?pt_type=priotail&pt_shop=unleashia&pt_no=108&pt_tag=video_arm"}}else console.log("something wrong by priotail")}function priotail(){var t=getQueryString(),e=t.pt_type,i=t.pt_shop,o=t.pt_no,r=t.pt_tag;switch(e){case"priotail":priotailHttpRequest.onreadystatechange=priotailArrange,priotailHttpRequest.open("GET",`https://priotail.development.hitple.com/${i}/${o}/${r}`,!0),priotailHttpRequest.send();break;case"priogory":priotailHttpRequest.onreadystatechange=priogoryArrange,priotailHttpRequest.open("GET",`https://priotail.development.hitple.com/priogory/${i}/${o}/${r}`,!0),priotailHttpRequest.send();break;default:r&&(priotailHttpRequest.onreadystatechange=priotailArrange,priotailHttpRequest.open("GET",`https://priotail.development.hitple.com/${i}/${o}/${r}`,!0),priotailHttpRequest.send())}}priotail();
